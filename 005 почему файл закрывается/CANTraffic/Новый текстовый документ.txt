входящие и исходящие сообщения попадают в виджет вывода
	при достижении порога, ранее полученные удаляются - это должно осуществляться отдельным потоком

виджет вывода получает структуры сообщений для того, чтобы иметь возможность фильтровать по фильтру и каналам
виджет вывода получает список номеров каналов по которым может приходить траффик

____________________________________________________________________________________________________________________________
#Потенциалы оптимизации
	ускорение развязки из статики на конекретный TrafficChannel (отказ от map в пользу массива с индексами)
	если моменты записи траффика в файл заметны:
		снижение приоритета потока записи в файл (нужна проверка завершена ли запись)
		запись траффика в файл не как строки, а бинарно - экономия на переводе из CANMsg в QString
	снижение трудоёмкости чтения и отправки сообщений
		вывод траффика на экран сейчас осуществляется как CB-функция при чтении или отправке сообщения
		можно вынести в отдельный поток (второй архитектурный вариант)
____________________________________________________________________________________________________________________________

#способы получения сообщений виджетом:
1. внутри лямбды обработки траффика вызывать метод виджета
	+ быстрее и проще реализовать
	- увеличение трудоёмкости обработчика траффика
	- траффик знает что-то о виджете
		траффик может вызывать реальный метод виджета
		траффик может вызывать абстрактный метод виджета
		траффик может вызывать метод защитной обертки виджета
		в траффик можно передавать указатель на функцию и он её будет вызывать
			нужна будет развязка статики на объект
2. в виджете опрашивать траффик и добавлять по необходимости
	+ отсутствие увеличения трудоёмкости обработчика траффика
	+ отсутствие всякой зависимости траффика от виджета
	- колизии (решено)
		опрашиваем кого? msgsToTraffic, но он подменяется - messages1 | messages2
		в момент подмены как быть? очень сложно, не знаю как. Можно пробовать ставить какие-то флаги, которые будут ... ?
		опрашиваем не msgsToTraffic, а messages1 и messages2
		как только что-то где-то добавилось - запихивается в виджет!!!
		все каналы опрашиваются в одном месте. 
			возможна колизия: пока опрашивали первый канал сначала пришло на 4й, а потом пришло на 2й
			но первым будет выведено сообщение с того канала, который опрашивается раньше.
			не критично, если что - можно анализом timestamp скорректировать